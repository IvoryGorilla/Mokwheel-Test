{% comment %}
  Use:
  {% render 'alp-responsive-image', image: image, image_mobile: image_mobile, desktop_width: 1280, mobile_width: 600, aspect_ratio: '1/1',alt: 'Alt text' %}
{% endcomment %}

{%- assign desktop = desktop_width | default: 1920 -%}
{%- assign mobile = mobile_width | default: 600 -%}
{%- assign mobile_img = image_mobile | default: image -%}
{%- assign alt = alt | default: 'Mokwheel Ebikes' -%}
{%- capture aspect_ratio_style -%}
    {%- if aspect_ratio != blank -%}
        --aspect-ratio:{{ aspect_ratio }}
    {%- endif -%}
{%- endcapture -%}

<picture style="{{ aspect_ratio_style }}">
  <source data-srcset="{{ image | image_url: width: desktop }}" media="(min-width: 768px)">
  <img
    class="lazy"
    data-src="{{ mobile_img | image_url: width: mobile }}"
    alt="{{ image.alt | default: alt }}"
    loading="lazy"
    width="auto"
    height="auto"
  >
</picture>
