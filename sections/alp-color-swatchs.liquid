{% capture colors %}
        {%- for block in section.blocks -%}
            {%- if block.settings.color_name != blank -%}
                {%- assign color_name = block.settings.color_name | handle -%}
                .alp-color-{{ color_name }}{
                    {% if block.settings.color_image != blank %}
                        background:{{ block.settings.color_code }} url({{ block.settings.color_image | image_url: width: 80 }}) no-repeat 50% 50%/cover ;
                        --background:{{ block.settings.color_code }} url({{ block.settings.color_image | image_url: width: 80 }}) no-repeat 50% 50%/cover ;
                    {% elsif block.settings.color_code != blank  %}
                        background-color:{{ block.settings.color_code }} ;                    
                        --background-color:{{ block.settings.color_code }} ;                    
                      {% endif %}
                }
            {%- endif -%}
        {%- endfor -%} 
{% endcapture %}

<script>
  window.addEventListener('load', function() {
      const styleElement = document.createElement('style');
      styleElement.textContent = {{ colors | strip_newlines | remove: '  ' | remove: '	' | json }};
      document.head.appendChild(styleElement);
  });
</script>
{% schema %}
{
  "name": "Alp Color Swatchs",
  "enabled_on": {
    "groups": ["footer"]
  },
  "settings": [],
  "blocks": [
    {
      "type": "color",
      "name": "Color",
      "settings": [
        {
          "type": "text",
          "id": "color_name",
          "label": "Color Name"
        },
        {
          "type": "color",
          "id": "color_code",
          "label": "Color code"
        },
        {
          "type": "image_picker",
          "id": "color_image",
          "label": "Color Image"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Alp Color Swatchs"
    }
  ]
}
{% endschema %}
